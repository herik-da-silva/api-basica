# Gerenciamento de Produtos API

Este √© um projeto b√°sico de uma API RESTful desenvolvido em **Java 21** utilizando **Spring Boot 3.3.4**. O objetivo principal deste projeto √© aprimorar conhecimentos em **seguran√ßa** e **boas pr√°ticas de desenvolvimento**, al√©m de revisitar conceitos fundamentais que, com o tempo, podem se tornar autom√°ticos e pouco intuitivos.

---

## üöÄ Objetivos do Projeto

1. Aprimorar habilidades relacionadas a:
   - **Seguran√ßa** em APIs.
   - Implementa√ß√£o de **boas pr√°ticas** no desenvolvimento.
2. Revisitar conceitos b√°sicos de:
   - **CRUD** (Create, Read, Update, Delete).
   - Estrutura e design de APIs RESTful.
   - Valida√ß√£o de dados e gest√£o de erros.
3. Consolidar o uso de ferramentas e frameworks modernos com o Spring Boot.

---

## ‚öôÔ∏è Tecnologias Utilizadas

- **Java**: vers√£o 21.
- **Spring Boot**: vers√£o 3.3.4.
  - **Spring Web**: para constru√ß√£o da API REST.
  - **Spring Data JPA**: para integra√ß√£o com banco de dados.
  - **Spring Security**: para controle de autentica√ß√£o e autoriza√ß√£o.
- **Banco de Dados**: Oracle
- **Mockito**: para testes unit√°rios
- **slf4j** e **logback**: para gerenciamento de logs
- **jjwt**: cria√ß√£o e manuten√ß√£o de JWT (JSON Web Tokens)
- **Maven**: para gerenciamento de depend√™ncias e execu√ß√£o de aplicativos Spring Boot.

---

## üõ†Ô∏è Funcionalidades

- Gerenciamento de Produtos:
  - Cadastro de novos produtos.
  - Listagem com suporte a filtros e pagina√ß√£o.
  - Atualiza√ß√£o de informa√ß√µes.
  - Exclus√£o de produtos.
- Seguran√ßa
  - Autentica√ß√£o via JWT.
  - Controle de acesso baseado em perfis de usu√°rio.
  - Hashing seguro de senhas com BCrypt.
- Valida√ß√£o de dados.
  - Valida√ß√£o autom√°tica no n√≠vel do modelo.
- Tratamento centralizado de erros.
  - Respostas padronizadas para erros.

---

## üèÅ Como Executar

### Pr√©-requisitos

1. **Java 21** instalado e configurado.
2. **Maven** instalado e configurado.
3. **Banco de Dados Oracle Autonomous Database Free** configurado:
   - Crie uma inst√¢ncia do banco em [Oracle Cloud](https://www.oracle.com/cloud/free/).
   - Fa√ßa o download do arquivo de credenciais **Wallet** no console do banco.
   - Extraia o arquivo `.zip` e configure a aplica√ß√£o conforme descrito abaixo.

### Configura√ß√£o do Banco de Dados

1. Extraia o arquivo **Wallet**.
2. No arquivo `application.properties`, configure as seguintes propriedades:
   ```properties
   spring.datasource.url=jdbc:oracle:thin:@<nome_da_inst√¢ncia>_high?TNS_ADMIN=<caminho_para_wallet>
   spring.datasource.username=<seu_usuario>
   spring.datasource.password=<sua_senha>
   spring.datasource.driver-class-name=oracle.jdbc.OracleDriver
   ```

   Substitua:
   - `<nome_da_inst√¢ncia>` pelo nome da sua inst√¢ncia de banco.
   - `<caminho_para_wallet>` pelo caminho onde o Wallet foi extra√≠do.
   - `<seu_usuario>` e `<sua_senha>` pelas credenciais configuradas na inst√¢ncia.

3. Execute os scripts SQL para criar as tabelas necess√°rias.

### Scripts SQL

No diret√≥rio `src/main/resources/sql`, voc√™ encontrar√° os scripts SQL necess√°rios para criar as tabelas utilizadas pelo projeto. 

1. Acesse o banco de dados utilizando uma ferramenta como **DBeaver**, **SQL Developer**, ou o pr√≥prio console da Oracle.
2. Execute os comandos abaixo (ou carregue o arquivo `.sql` fornecido):

```sql
CREATE TABLE PRODUTOS
   (ID NUMBER GENERATED BY DEFAULT AS IDENTITY NOT NULL, 
    NOME VARCHAR2(100) NOT NULL, 
    PRECO NUMBER(10,2) NOT NULL, 
    PRIMARY KEY (ID)
   );

CREATE TABLE USUARIOS
   (ID NUMBER GENERATED BY DEFAULT AS IDENTITY NOT NULL, 
    USERNAME VARCHAR2(50) NOT NULL, 
    PASSWORD VARCHAR2(100) NOT NULL, 
    ROLE VARCHAR2(20) DEFAULT 'USER', 
    PRIMARY KEY (ID),
    UNIQUE (USERNAME)
   );

CREATE TABLE TOKEN_BLACKLIST 
   (TOKEN VARCHAR2(2000), 
    EXPIRATION_DATE TIMESTAMP, 
    PRIMARY KEY (TOKEN)
   );
```

### Executando a Aplica√ß√£o

1. Clone o reposit√≥rio:
   ```bash
   git clone https://github.com/herik-da-silva/api-basica.git
   cd api-basica
   ```

2. Instale as depend√™ncias:
   ```bash
   mvn clean install
   ```

3. Execute a aplica√ß√£o:
   ```bash
   mvn spring-boot:run
   ```

4. Acesse a API:
   - URL base: `http://localhost:8080/api/v1/login`.

---

## üîí Seguran√ßa

O projeto implementa as seguintes medidas de seguran√ßa:

- **Autentica√ß√£o JWT** (JSON Web Token).
- **Autoriza√ß√£o baseada em perfis de usu√°rio**.
- **Hashing de Senhas com BCrypt**.
- **Valida√ß√£o de Dados**.
- **Resposta Segura**.

---

## üîß Melhorias Futuras

1. **Documenta√ß√£o da API**:
   - Adicionar **Swagger/OpenAPI** para documenta√ß√£o interativa.
2. **Rate Limiting**:
   - Implementar limites de requisi√ß√µes por usu√°rio/IP.
3. **Caching**:
   - Otimizar a performance com cache em endpoints estrat√©gicos.
4. **Teste de performance e carga**:
   - Realizar testes com o **JMeter**.
5. **Pipeline CI/CD**:
   - Automatizar build, testes e deploy.
6. **Containeriza√ß√£o**:
   - Configurar o projeto para uso com **Docker**.

---

## üìù Contribui√ß√µes

Este √© um projeto pessoal e educativo. Sugest√µes, melhorias e cr√≠ticas construtivas s√£o sempre bem-vindas!

---

**Nota**: As instru√ß√µes podem ser adaptadas conforme o ambiente de execu√ß√£o ou configura√ß√µes espec√≠ficas. Caso enfrente problemas, consulte a [documenta√ß√£o do Oracle Autonomous Database](https://docs.oracle.com/en/cloud/paas/autonomous-database/index.html).

--- 
